Patch from Gentoo
Use a simpler check for Python's libs that return an actual linker
invocation (e.g. -lpython2.6) instead of the .so file. This fixes the
case with forced as-needed where the .so gets re-ordered to the front
during link.
http://git.overlays.gentoo.org/gitweb/?p=user/wish.git;a=blob;f=dev-db/mysql-workbench/files/mysql-workbench-5.2.17-python-libs.patch;h=8fb6b71e91b0c5e14bb542e05f2bab1da4dbc60d;hb=6c2a287fc8cd60b3806ec3d5b058a513c4b417b5
--- mysql-workbench-gpl-5.2.37-src/configure.in~	2011-12-22 23:37:36.000000000 +0100
+++ mysql-workbench-gpl-5.2.37-src/configure.in	2011-12-29 14:47:02.360222574 +0100
@@ -245,14 +245,9 @@
 AC_CHECK_PROG(PYTHON27, python2.7, [yes])
 # Python headers
 AC_MSG_CHECKING(for Python libraries)
-PYTHON_LIBS=[$(python -c "from distutils import sysconfig
-import os 
-cfg=sysconfig.get_config_vars()
-lib = os.path.join(cfg['LIBDIR'], cfg['LDLIBRARY'])
-if os.path.exists(lib):
-    print \"-L\" + cfg['LIBDIR'] + \" -l\" + cfg['LDLIBRARY'].lstrip(\"lib\").rstrip(\".so\")")]
+PYTHON_LIBS=[$(python -c 'import sys; print("-lpython%s.%s" % sys.version_info[:2])')]
 PYTHON_CFLAGS=[$(python -c "from distutils import sysconfig
 print sysconfig.get_python_inc()")]
 PYTHON_CFLAGS="-I$PYTHON_CFLAGS"
 if test "$PYTHON_LIBS" = ""; then
   AC_MSG_RESULT(not found)

